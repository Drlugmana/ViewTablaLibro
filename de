[HttpGet("latest")]
public async Task<ActionResult<PagedResponse<ProblemDynatraceResponse>>> GetProblemsLatest(
    [FromQuery] string? jurisdiction = null
)
{
    // AYER 00:00 (local server time)
    var startDate = DateTime.Today.AddDays(-1);

    // AHORA
    var endDate = DateTime.Now;

    var baseQuery = _context.DynatraceProblems
        .AsNoTracking()
        .Where(p => p.StartTime >= startDate && p.StartTime <= endDate);

    if (!string.IsNullOrWhiteSpace(jurisdiction))
    {
        baseQuery = baseQuery.Where(p => p.Jurisdiction == jurisdiction);
    }

    // orden: m치s recientes primero
    baseQuery = baseQuery.OrderByDescending(p => p.StartTime);

    // 游댠 TRAEMOS TODO (sin paginaci칩n)
    var problems = await baseQuery.ToListAsync();

    // Mantener tu l칩gica de deserializaci칩n
    var deserializedProblems = problems
        .Select(problem =>
        {
            try
            {
                return convertProblemJSON(problem);
            }
            catch (JsonException)
            {
                return null;
            }
        })
        .Where(p => p != null)
        .ToList()!;

    var response = new PagedResponse<ProblemDynatraceResponse>
    {
        TotalRecords = deserializedProblems.Count,
        TotalPages = 1,
        PageNumber = 1,
        PageSize = deserializedProblems.Count,
        Data = deserializedProblems
    };

    return response;
}